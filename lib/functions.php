<?phprequire "facebook-return-handler.php"; require "new-post-update-status.php"; require "reset-all-settings.php"; if(!isset($_SESSION)) {	session_start();}if(isset($_SESSION['fp_msg'])) {	cdlc_show_notification($_SESSION['fp_msg'] , $_SESSION['fp_msg_type'] );	}	if(!function_exists("pre")) {		function pre($arr) {			echo "<pre>";			print_r($arr);			echo "</pre>";		}	}	function cdlc_show_notification($msg="Success" , $type = "success") {		$_SESSION["fp_msg"] = $msg;		$_SESSION["fp_msg_type"] = $type;				if($type == "success"){						add_action('admin_notices', 'cdlc_success_admin_notice');					}		else {			add_action('admin_notices', 'cdlc_error_admin_notice');		}	}	function cdlc_success_admin_notice(){		global $fp_settings;	    global $pagenow;				    	    echo '<div class="updated">	         <p> <b>'.FP_PLUGIN_NAME.':</b>'.$_SESSION["fp_msg"].'</p>	     </div>';		   		unset($_SESSION["fp_msg"]);			unset($_SESSION["fp_msg_type"]);		}	function cdlc_error_admin_notice(){		global $fp_settings;	    global $pagenow;				    	    echo '<div class="error">	         <p> <b>'.FP_PLUGIN_NAME.':</b> '.$_SESSION["fp_msg"].'</p>	    	 </div>';	 	unset($_SESSION["fp_msg"]); 	 	unset($_SESSION["fp_msg_type"]); 	}function fp_print_fb_pages() {	global $fp_settings;	$checked = "";	if(in_array( "own", $fp_settings["global_pages"])) {		$checked = "checked";	}		//echo "<input $checked type='checkbox' value='own' name='global_pages[]' class='global_pages' id='global_pages_own'  ><label for='global_pages_own'> Own Timeline</label><br>";						//pre($fp_settings); exit;	 	foreach($fp_settings['pages'] as $page ) {	 		$checked = (in_array( $page['id'] , $fp_settings["global_pages"]))? " checked " : "";						echo '<input '.$checked.' type="checkbox" value="'.$page['id'].'" name="global_pages[]" class="global_pages" id="global_pages_'.$page['id'].'"  ><label for="global_pages_'.$page['id'].'"> '.$page['name'].' </label><br>';				 	}}function fp_post_is_scheduled($post_id) {	$publish_time = get_post_meta($post_id , "fp_timestamp" , true);	$current_time = time();  	if(is_numeric($publish_time)) {		if($publish_time > $current_time ) {			return true;			}	}	return false;}function fp_increment_post_count() {	global $fp_settings;	$post_count = $fp_settings["post_count"];	$post_count++;	update_option("fp_settings" , $fp_settings);}function fp_debuginfo() {	global $wp_version;	global $fp_settings;	$html = "";	$html .= "<b>WordPress Version:</b> ".$wp_version;	$html .= "<br>";	$html .= "<b>PHP Version:</b> ".phpversion();	$html .= "<br>";	$html .= "<b>Installed plugins:</b> ";	$html .= "<br>";	$html .= "<br>";	$plugins = get_plugins();	//pre($plugins);	foreach($plugins as $plugin) {		$html .= $plugin["Name"]." - ".$plugin["Version"]."<br>"; 	} 	$html .= "<br>";	$html .= "<b>Settings:</b> ";	$html .= "<br>";	$html .= "<br>";	$html .= "<pre>".print_r($fp_settings , true)."</pre>";	echo $html;				}